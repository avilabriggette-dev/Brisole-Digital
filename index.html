<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brisole Digital</title>
  <!-- Fuente -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet">
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    h1, h2 {
      font-family: 'Poppins', sans-serif;
    }

    /* Tarjetas de medios */
    .media-grid-item {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 0.75rem;
      transition: transform 0.3s ease;
      height: 250px; /* ðŸ”¹ Todas las tarjetas del mismo alto */
    }
    .media-grid-item:hover {
      transform: scale(1.03);
    }
    .media-grid-item img,
    .media-grid-item video {
      width: 100%;
      height: 100%;
      object-fit: cover; /* ðŸ”¹ Portadas llenan la tarjeta */
      transition: filter 0.3s ease;
    }
    .media-grid-item:hover img,
    .media-grid-item:hover video {
      filter: brightness(0.7);
    }

    /* Modal de proyectos */
    #projectModal {
      max-width: 100%;
      max-height: 90vh;
    }
    #projectModal .media-grid-item {
      height: 220px; /* ðŸ”¹ Medios mÃ¡s grandes dentro del modal */
    }

    /* Modal de medios grandes */
    #mediaModal img,
    #mediaModal video {
      max-height: 70vh;
      max-width: 90vw;
      object-fit: contain; /* ðŸ”¹ AquÃ­ no cortamos nada */
    }
  </style>
</head>
<body class="bg-red-950 text-white font-sans p-4 md:p-8">

  <div class="max-w-6xl mx-auto">
    <!-- Encabezado -->
    <header class="text-center mb-10 bg-red-900 p-6 rounded-2xl shadow-lg">
      <h1 class="text-4xl md:text-5xl font-extrabold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-rose-500 to-red-600">
        BRISOLE DIGITAL
      </h1>
      <p class="text-lg text-gray-200">Tu visiÃ³n, nuestra creaciÃ³n Digital</p>
    </header>

    <!-- SecciÃ³n Proyectos -->
    <section id="proyectos" class="mb-8">
      <h2 class="text-3xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-700">
        Proyectos
      </h2>
      <div id="projectsGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </section>

    <!-- Modal Proyecto -->
    <div id="projectModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
      <div class="bg-red-900 p-6 md:p-8 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative border-2 border-rose-800">
        <button id="closeModalButton" class="absolute top-4 right-4 text-gray-400 hover:text-white">
          âœ–
        </button>
        <div id="modalContent"></div>
      </div>
    </div>

    <!-- Modal Media -->
    <div id="mediaModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
      <div class="relative w-full h-full flex items-center justify-center">
        <button id="closeMediaModalButton" class="absolute top-4 right-4 text-white text-3xl z-50">âœ–</button>
        <div id="mediaDisplay" class="bg-gray-900 p-2 rounded-lg shadow-xl border border-gray-700"></div>
      </div>
    </div>
  </div>

  <script type="module">
    const projectsGrid = document.getElementById('projectsGrid');
    const projectModal = document.getElementById('projectModal');
    const closeModalButton = document.getElementById('closeModalButton');
    const modalContent = document.getElementById('modalContent');
    const mediaModal = document.getElementById('mediaModal');
    const mediaDisplay = document.getElementById('mediaDisplay');
    const closeMediaModalButton = document.getElementById('closeMediaModalButton');

    /* ðŸ”¹ Tus proyectos y medios */
    const projectsData = [
      {
        id: 'videos',
        title: 'Videos',
        cover: 'Videos/60.mp4',
        media: [
          { type: 'video', src: 'Videos/60.mp4', description: 'Video de 60 segundos.' },
          { type: 'video', src: 'Videos/PICAPIEDRAS.mp4', description: 'Video de PICAPIEDRAS.' },
          { type: 'video', src: 'Videos/Vid2.mp4', description: 'Video Vid2.' },
          { type: 'video', src: 'Videos/Vid3.mp4', description: 'Video Vid3.' },
        ]
      },
      {
        id: 'ia',
        title: 'Inteligencia Artificial',
        cover: 'IA/1.png',
        media: [
          { type: 'image', src: 'IA/1.png', description: 'Imagen de IA 1.' },
          { type: 'image', src: 'IA/2.png', description: 'Imagen de IA 2.' },
          { type: 'image', src: 'IA/3.png', description: 'Imagen de IA 3.' },
          { type: 'image', src: 'IA/4.png', description: 'Imagen de IA 4.' },
          { type: 'image', src: 'IA/5.png', description: 'Imagen de IA 5.' },
          { type: 'image', src: 'IA/6.png', description: 'Imagen de IA 6.' },
          { type: 'image', src: 'IA/7.png', description: 'Imagen de IA 7.' },
          { type: 'image', src: 'IA/8.png', description: 'Imagen de IA 8.' },
          { type: 'image', src: 'IA/9.png', description: 'Imagen de IA 9.' },
          { type: 'image', src: 'IA/10.png', description: 'Imagen de IA 10.' },
          { type: 'image', src: 'IA/11.png', description: 'Imagen de IA 11.' },
        ]
      },
      {
        id: 'confort_dental',
        title: 'Confort Dental',
        cover: 'Confort Dental/108.jpg',
        media: [
          { type: 'image', src: 'Confort Dental/108.jpg', description: 'Proyecto Confort Dental 108.' },
          { type: 'image', src: 'Confort Dental/16.jpg', description: 'Proyecto Confort Dental 16.' },
          { type: 'image', src: 'Confort Dental/Conf1.jpg', description: 'Proyecto Confort Dental Conf1.' },
          { type: 'image', src: 'Confort Dental/Conf2.jpg', description: 'Proyecto Confort Dental Conf2.' },
          { type: 'image', src: 'Confort Dental/Conf3.jpg', description: 'Proyecto Confort Dental Conf3.' },
          { type: 'image', src: 'Confort Dental/Conf4.jpg', description: 'Proyecto Confort Dental Conf4.' },
        ]
      },
      {
        id: 'medikal',
        title: 'Medikal',
        cover: 'Medikal/Med1.jpeg',
        media: [
          { type: 'image', src: 'Medikal/Med1.jpeg', description: 'Proyecto Medikal Med1.' },
          { type: 'image', src: 'Medikal/Med2.jpeg', description: 'Proyecto Medikal Med2.' },
          { type: 'image', src: 'Medikal/Med3.jpeg', description: 'Proyecto Medikal Med3.' },
          { type: 'image', src: 'Medikal/Med4.jpeg', description: 'Proyecto Medikal Med4.' },
          { type: 'image', src: 'Medikal/Med5.jpeg', description: 'Proyecto Medikal Med5.' },
        ]
      }
    ];

    /* Renderiza los proyectos */
    const renderProjects = () => {
      projectsGrid.innerHTML = '';
      projectsData.forEach(project => {
        const projectElement = document.createElement('div');
        projectElement.className = 'media-grid-item bg-red-800 rounded-xl shadow-lg overflow-hidden relative group cursor-pointer';
        projectElement.onclick = () => openProjectModal(project.id);

        const coverMedia = document.createElement(project.cover.endsWith('.mp4') ? 'video' : 'img');
        coverMedia.src = project.cover;
        coverMedia.alt = project.title;
        coverMedia.className = 'w-full h-full object-cover';
        if (project.cover.endsWith('.mp4')) {
          coverMedia.setAttribute('poster', 'https://placehold.co/600x400/2F2F2F/888888?text=Video');
        }

        const titleOverlay = document.createElement('div');
        titleOverlay.textContent = project.title;
        titleOverlay.className = 'absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-center py-2 font-bold text-lg';

        projectElement.appendChild(coverMedia);
        projectElement.appendChild(titleOverlay);
        projectsGrid.appendChild(projectElement);
      });
    };

    /* Abre modal de proyecto */
    const openProjectModal = (projectId) => {
      const project = projectsData.find(p => p.id === projectId);
      if (!project) return;

      modalContent.innerHTML = `
        <h2 class="text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-950">${project.title}</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          ${project.media.map(media => `
            <div class="media-grid-item bg-red-800 rounded-xl shadow-lg overflow-hidden relative group cursor-pointer" onclick="openMediaModal('${media.src}', '${media.type}')">
              ${media.type === 'video' ? 
                `<video src="${media.src}" class="w-full h-full object-cover" poster="https://placehold.co/600x400/2F2F2F/888888?text=Video"></video>` :
                `<img src="${media.src}" alt="${media.description}" class="w-full h-full object-cover">`
              }
              ${media.description ? `<div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-center py-2 opacity-0 group-hover:opacity-100">${media.description}</div>` : ''}
            </div>
          `).join('')}
        </div>
      `;
      projectModal.classList.remove('hidden');
    };

    /* Modal para imÃ¡genes/videos grandes */
    window.openMediaModal = (src, type) => {
      mediaDisplay.innerHTML = '';
      let mediaElement;
      if (type === 'video') {
        mediaElement = document.createElement('video');
        mediaElement.src = src;
        mediaElement.controls = true;
        mediaElement.autoplay = true;
        mediaElement.loop = true;
        mediaElement.className = "w-full h-auto object-contain";
      } else {
        mediaElement = document.createElement('img');
        mediaElement.src = src;
        mediaElement.className = "w-full h-auto object-contain";
      }
      mediaDisplay.appendChild(mediaElement);
      mediaModal.classList.remove('hidden');
    };

    /* Cerrar modales */
    closeModalButton.addEventListener('click', () => projectModal.classList.add('hidden'));
    closeMediaModalButton.addEventListener('click', () => {
      mediaModal.classList.add('hidden');
      const videoElement = mediaDisplay.querySelector('video');
      if (videoElement) {
        videoElement.pause();
        videoElement.currentTime = 0;
      }
    });

    renderProjects();
  </script>
</body>
</html>
