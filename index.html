<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brisole Digital</title>
    <!-- Fuente Google + Tailwind -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .media-grid-item {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border-radius: 0.75rem;
            transition: transform 0.3s ease;
            height: 260px; /* 游댳 M치s alto que antes */
        }
        .media-grid-item:hover {
            transform: scale(1.03);
        }
        .media-grid-item video,
        .media-grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* 游댳 Llenan bien el espacio */
            transition: filter 0.3s ease;
        }
        .media-grid-item:hover video,
        .media-grid-item:hover img {
            filter: brightness(0.7);
        }
        h1, h2 {
            font-family: 'Poppins', sans-serif;
        }
        .section-tab.active {
            border-bottom: 3px solid;
            border-image: linear-gradient(to right, #6366F1, #EC4899, #F59E0B) 1;
        }

        /* Modal proyectos */
        #projectModal {
            max-width: 100%;
            max-height: 80vh;
        }
        #projectModal .media-grid-item {
            height: 280px; /* 游댳 M치s grande dentro del modal */
            max-height: none;
        }

        /* Modal de medios grandes */
        #mediaModal .media-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            background: #000;
            border-radius: 1rem;
            overflow: hidden;
        }
        #mediaModal img,
        #mediaModal video {
            max-height: 70vh; /* 游댳 Grande pero no ocupa todo */
            max-width: 90vw;
            object-fit: contain; /* 游댳 Para que no se corten */
            display: block;
            margin: auto;
        }
    </style>
</head>
<body class="bg-red-950 text-white font-sans p-4 md:p-8">

    <div class="max-w-6xl mx-auto">
        <!-- Encabezado -->
        <header class="text-center mb-8 bg-red-900 p-6 rounded-2xl shadow-lg relative">
            <h1 class="text-4xl md:text-5xl font-extrabold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-rose-500 to-red-600">BRISOLE DIGITAL</h1>
            <p class="text-lg text-gray-200">Tu visi칩n, nuestra creaci칩n Digital</p>
        </header>

        <!-- Secci칩n proyectos -->
        <section id="proyectos" class="mb-8">
            <h2 class="text-3xl font-bold mb-4 text-center text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-700">Proyectos</h2>
            <div id="projectsGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Se renderizan aqu칤 -->
            </div>
        </section>

        <!-- Modal proyectos -->
        <div id="projectModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
            <div class="bg-red-900 p-6 md:p-8 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative border-2 border-rose-800">
                <button id="closeModalButton" class="absolute top-4 right-4 text-gray-400 hover:text-white transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <div id="modalContent"></div>
            </div>
        </div>
        
        <!-- Modal medios grandes -->
        <div id="mediaModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
            <div class="relative w-full h-full flex items-center justify-center">
                <button id="closeMediaModalButton" class="absolute top-4 right-4 text-white text-3xl z-50">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <div id="mediaDisplay" class="bg-gray-900 p-2 rounded-lg shadow-xl border border-gray-700"></div>
            </div>
        </div>
    </div>
    
    <script type="module">
        const projectsGrid = document.getElementById('projectsGrid');
        const projectModal = document.getElementById('projectModal');
        const closeModalButton = document.getElementById('closeModalButton');
        const modalContent = document.getElementById('modalContent');
        const mediaModal = document.getElementById('mediaModal');
        const mediaDisplay = document.getElementById('mediaDisplay');
        const closeMediaModalButton = document.getElementById('closeMediaModalButton');
        
        const projectsData = [
            {
                id: 'videos',
                title: 'Videos',
                cover: 'Videos/60.mp4',
                media: [
                    { type: 'video', src: 'Videos/60.mp4', description: 'Video de 60 segundos.' },
                    { type: 'video', src: 'Videos/PICAPIEDRAS.mp4', description: 'Video de PICAPIEDRAS.' },
                    { type: 'video', src: 'Videos/Vid2.mp4', description: 'Video Vid2.' },
                    { type: 'video', src: 'Videos/Vid3.mp4', description: 'Video Vid3.' },
                ]
            },
            {
                id: 'ia',
                title: 'Inteligencia Artificial',
                cover: 'IA/1.png',
                media: [
                    { type: 'image', src: 'IA/1.png', description: 'Imagen de IA 1.' },
                    { type: 'image', src: 'IA/2.png', description: 'Imagen de IA 2.' },
                    { type: 'image', src: 'IA/3.png', description: 'Imagen de IA 3.' },
                    { type: 'image', src: 'IA/4.png', description: 'Imagen de IA 4.' },
                    { type: 'image', src: 'IA/5.png', description: 'Imagen de IA 5.' },
                ]
            },
            {
                id: 'confort_dental',
                title: 'Confort Dental',
                cover: 'Confort Dental/108.jpg',
                media: [
                    { type: 'image', src: 'Confort Dental/108.jpg', description: 'Proyecto Confort Dental 108.' },
                    { type: 'image', src: 'Confort Dental/16.jpg', description: 'Proyecto Confort Dental 16.' },
                    { type: 'image', src: 'Confort Dental/Conf1.jpg', description: 'Proyecto Confort Dental Conf1.' },
                ]
            },
            {
                id: 'medikal',
                title: 'Medikal',
                cover: 'Medikal/Med1.jpeg',
                media: [
                    { type: 'image', src: 'Medikal/Med1.jpeg', description: 'Proyecto Medikal Med1.' },
                    { type: 'image', src: 'Medikal/Med2.jpeg', description: 'Proyecto Medikal Med2.' },
                    { type: 'image', src: 'Medikal/Med3.jpeg', description: 'Proyecto Medikal Med3.' },
                ]
            }
        ];
        
        // Renderiza la cuadr칤cula
        const renderProjects = () => {
            projectsGrid.innerHTML = '';
            projectsData.forEach(project => {
                const projectElement = document.createElement('div');
                projectElement.className = 'media-grid-item bg-red-800 rounded-xl shadow-lg overflow-hidden relative group cursor-pointer';
                projectElement.onclick = () => openProjectModal(project.id);
                
                const coverMedia = document.createElement(project.cover.endsWith('.mp4') ? 'video' : 'img');
                coverMedia.src = project.cover;
                coverMedia.alt = project.title;
                coverMedia.className = 'w-full h-full object-cover transition-transform duration-300 group-hover:scale-105';
                if (project.cover.endsWith('.mp4')) {
                    coverMedia.setAttribute('poster', 'https://placehold.co/600x400/2F2F2F/888888?text=Video');
                }
                
                const titleOverlay = document.createElement('div');
                titleOverlay.textContent = project.title;
                titleOverlay.className = 'absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-center py-2 font-bold text-xl';
                
                projectElement.appendChild(coverMedia);
                projectElement.appendChild(titleOverlay);
                projectsGrid.appendChild(projectElement);
            });
        };
        
        // Abre modal proyectos
        const openProjectModal = (projectId) => {
            const project = projectsData.find(p => p.id === projectId);
            if (!project) return;
            
            modalContent.innerHTML = `
                <h2 class="text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-rose-950">${project.title}</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${project.media.map(media => `
                        <div class="media-grid-item bg-red-800 rounded-xl shadow-lg overflow-hidden relative group cursor-pointer" onclick="openMediaModal('${media.src}', '${media.type}')">
                            ${media.type === 'video' ? 
                                `<video src="${media.src}" poster="https://placehold.co/600x400/2F2F2F/888888?text=Video" class="w-full h-full object-cover"></video>` :
                                `<img src="${media.src}" alt="${media.description}" class="w-full h-full object-cover">`
                            }
                            ${media.description ? `<div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-center py-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">${media.description}</div>` : ''}
                        </div>
                    `).join('')}
                </div>
            `;
            projectModal.classList.remove('hidden');
        };
        
        // Abre modal medios grandes
        window.openMediaModal = (src, type) => {
            const mediaContainer = document.getElementById('mediaDisplay');
            mediaContainer.innerHTML = '';
            let mediaElement;
            if (type === 'video') {
                mediaElement = document.createElement('video');
                mediaElement.src = src;
                mediaElement.controls = true;
                mediaElement.autoplay = true;
                mediaElement.loop = true;
                mediaElement.className = "w-full h-auto object-contain";
            } else {
                mediaElement = document.createElement('img');
                mediaElement.src = src;
                mediaElement.alt = 'Imagen en grande';
                mediaElement.className = "w-full h-auto object-contain";
            }
            mediaContainer.appendChild(mediaElement);
            mediaModal.classList.remove('hidden');
        };

        // Cerrar modales
        closeModalButton.addEventListener('click', () => projectModal.classList.add('hidden'));
        closeMediaModalButton.addEventListener('click', () => {
            mediaModal.classList.add('hidden');
            const videoElement = mediaDisplay.querySelector('video');
            if (videoElement) {
                videoElement.pause();
                videoElement.currentTime = 0;
            }
        });
        
        // Inicializa
        renderProjects();
    </script>
</body>
</html>
